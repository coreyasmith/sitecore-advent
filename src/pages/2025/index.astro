---
import { getCollection } from 'astro:content';
import { Image } from 'astro:assets';
import Layout from '../../layouts/Layout.astro'
import Calendar from '../../components/Calendar.astro';
import welcomeAuthor from '../../assets/authors/corey-smith.jpg';
import "../../styles/global.css";

const { title = "2025", description = "The 2025 Sitecore Community Advent Calendar." } = Astro.props;

const posts = (await getCollection("advent2025"))
  .filter((a) => a.data.pubDate >= new Date("2025-12-01"))
  .sort((a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf());
---

<Layout title={title} description={description}>
  <div class="mb-6">
    <a href="/2025/welcome" class="block bg-green-950/80 border border-white/10 rounded-2xl p-4 shadow-lg hover:shadow-2xl hover:scale-[1.02] transition transform duration-300">
      <div class="flex items-center mb-2">
        <Image src={welcomeAuthor} alt="Corey Smith" width={80} height={80} class="w-10 h-10 rounded-full mr-3 border-2 border-white/30" />
        <div>
          <h2 class="text-lg font-semibold leading-tight text-white card-text-shadow">Welcome</h2>
          <p class="text-xs text-white/90 card-text-shadow">Corey Smith</p>
        </div>
      </div>
      <p class="text-sm text-white card-text-shadow mb-2">Welcome to the 2025 Sitecore Community Advent Calendar!</p>
      <span class="text-xs text-white/90 card-text-shadow">Read the introduction <span class="ml-1">â†’</span></span>
    </a>
  </div>

  <Calendar posts={posts} year={2025} />
</Layout>
